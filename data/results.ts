export interface ResultType {
  type: string;
  title: string;
  emoji: string;
  description: string;
  characteristics: string[];
  goodMatch: string[];
  badMatch: string[];
  loveStyle: string;
}

export const results: Record<string, ResultType> = {
  T: {
    type: "테토남",
    title: "주도적인 리더형 💙",
    emoji: "👑",
    description: "연애를 이끌어가는 카리스마 넘치는 당신! 외향적이고 추진력 있는 스타일로 관계를 주도하는 타입이에요.",
    characteristics: [
      "🔥 주도적이고 적극적인 성격",
      "🎤 외향적이고 사교적",
      "💪 리더십이 강하고 결단력 있음",
      "⚡ 빠른 실행력과 추진력",
      "🌟 자신감 넘치고 당당함",
    ],
    goodMatch: ["포테토남", "에겐남", "치즈남", "에라남"],
    badMatch: ["테토남", "살사남"],
    loveStyle: "당신은 연애에서 주도권을 쥐는 타입! 먼저 다가가고, 먼저 계획하고, 먼저 이끌어가는 적극적인 스타일이에요. 연인을 위해 멋진 데이트를 기획하고 관계를 리드하는 것이 자연스러워요. 하지만 가끔은 상대방의 의견도 충분히 들어주는 여유를 가져보세요! 💙",
  },
  P: {
    type: "포테토남",
    title: "듬직한 감자형 🥔",
    emoji: "🥔",
    description: "감자처럼 순박하고 든든한 당신! 화려하진 않지만 믿음직하고 편안한 매력의 소유자예요.",
    characteristics: [
      "🤗 순박하고 솔직한 성격",
      "💪 든든하고 믿음직함",
      "😊 편안하고 부담 없는 분위기",
      "🏠 가정적이고 안정적",
      "🌾 꾸밈없는 담백한 매력",
    ],
    goodMatch: ["테토남", "에겐남", "살사남", "치즈남"],
    badMatch: ["포테토남", "고구마남"],
    loveStyle: "당신은 연애에서 가장 편안한 존재예요! 화려한 이벤트보다는 소박하지만 진심 어린 관심으로 연인을 감동시키는 타입이죠. 감자처럼 담백하지만 없으면 허전한, 꼭 필요한 사람이에요. 가끔은 특별한 이벤트나 감동을 선물해보는 것도 좋아요! 🥔💚",
  },
  E: {
    type: "에겐남",
    title: "조용한 낭만형 💜",
    emoji: "🌙",
    description: "조용하지만 깊은 감성을 가진 당신! 수동적이지만 세심하고 따뜻한 내향형 스타일이에요.",
    characteristics: [
      "🌸 내향적이고 조용한 성격",
      "💭 깊은 생각과 풍부한 감성",
      "🎧 혼자만의 시간을 소중히 여김",
      "📚 관찰력이 뛰어나고 섬세함",
      "🌿 차분하고 평화로운 분위기",
    ],
    goodMatch: ["테토남", "포테토남", "살사남", "고구마남"],
    badMatch: ["에겐남", "에라남"],
    loveStyle: "당신은 연애에서 조용히 빛나는 타입! 말은 적지만 깊은 감정을 가지고 있고, 작은 것 하나하나에 의미를 부여하는 낭만적인 사람이에요. 상대방을 깊이 이해하고 공감하는 능력이 뛰어나죠. 하지만 가끔은 당신의 진심을 적극적으로 표현해보세요! 💜",
  },
  G: {
    type: "고구마남",
    title: "달달한 성실형 🍠",
    emoji: "🍠",
    description: "포테토남의 라이벌! 포테토남보다 더 달달하지만, 가끔 답답할 정도로 성실하고 묵묵한 스타일이에요.",
    characteristics: [
      "🍠 포테토남보다 더 달달한 매력",
      "📋 답답할 정도로 성실하고 꼼꼼함",
      "🤫 묵묵히 말보다 행동으로 보여줌",
      "💪 한번 정하면 끝까지 해내는 끈기",
      "🏠 가정적이고 책임감이 강함",
    ],
    goodMatch: ["살사남", "치즈남", "에겐남"],
    badMatch: ["포테토남", "고구마남"],
    loveStyle: "당신은 말보다 행동으로 증명하는 타입! 화려한 말보다 묵묵히 챙겨주고, 성실하게 약속을 지키는 스타일이에요. 가끔은 너무 진지해서 답답하다는 소리를 들을 수 있지만, 그만큼 믿음직한 사람이에요. 가끔은 말로도 애정을 표현해보세요! 🍠",
  },
  C: {
    type: "치즈남",
    title: "사르르 녹는 유연형 🧀",
    emoji: "🧀",
    description: "에겐남의 변형! 어디든 사르르 녹아들어 분위기를 부드럽게 만드는 유연한 성격이에요.",
    characteristics: [
      "🧀 어디든 사르르 녹아드는 적응력",
      "🌊 분위기를 부드럽게 만드는 능력",
      "😊 유연하고 융통성 있는 성격",
      "💕 따뜻하고 포근한 매력",
      "✨ 갈등을 녹여내는 화해형",
    ],
    goodMatch: ["테토남", "살사남", "고구마남", "에헴남"],
    badMatch: ["치즈남"],
    loveStyle: "당신은 분위기 메이커이자 평화주의자! 어디서든 자연스럽게 녹아들어 상대방을 편하게 해주는 타입이에요. 갈등이 생겨도 부드럽게 풀어내는 능력이 있어요. 다만 너무 맞춰주다 보면 본인 감정을 숨길 수 있으니, 가끔은 자기 생각도 표현해보세요! 🧀",
  },
  S: {
    type: "살사남",
    title: "톡 쏘는 매력형 🌶️",
    emoji: "🌶️",
    description: "테토남(주도적)의 변형! 톡 쏘는 매력으로 관계의 주도권을 잡고 분위기를 리드하는 스타일이에요.",
    characteristics: [
      "🌶️ 말재주와 유머로 분위기 장악",
      "🎯 톡 쏘는 매력으로 주도권 확보",
      "🔥 당당하고 쿨한 리드 스타일",
      "💬 재치 있고 위트 넘치는 대화",
      "✨ 관계를 즐겁게 이끄는 타입",
    ],
    goodMatch: ["포테토남", "고구마남", "치즈남", "에라남"],
    badMatch: ["테토남", "살사남"],
    loveStyle: "당신은 말 한마디로 분위기를 바꾸는 타입! 유머와 위트로 연인을 웃기고, 쿨하게 관계를 이끄는 스타일이에요. 테토남보다 더 가볍고 재치 있어서 부담 없이 다가갈 수 있는 매력이 있어요. 가끔은 진지한 대화도 나눠보세요! 🌶️",
  },
  H: {
    type: "에헴남",
    title: "에헴 하는 선비형 📜",
    emoji: "📜",
    description: "에겐남인데 약간의 유교걸/남 기질이 섞인 타입! 다 맞춰주면서도 가끔 '에헴' 하며 선비질 하는 귀여운 스타일이에요.",
    characteristics: [
      "📜 다 맞춰주다가 가끔 '에헴' 선비질",
      "😊 기본은 배려형, 가끔 원칙 주장",
      "🎭 유교걸/남 기질이 살짝 섞인 귀여움",
      "💕 상대방 위주지만 선은 있음",
      "✨ 적당한 개성으로 밸런스 타입",
    ],
    goodMatch: ["살사남", "치즈남", "포테토남"],
    badMatch: ["에헴남", "에라남"],
    loveStyle: "당신은 대부분 다 맞춰주지만, 가끔 '에헴' 하며 의견을 내는 귀여운 타입! 상대방을 배려하되 나름의 선과 원칙이 있어서, 지나치게 밀리지 않는 밸런스 감이 있어요. 그 '에헴'이 오히려 매력으로 통할 때가 많아요! 📜",
  },
  A: {
    type: "에라남",
    title: "에라 모르겠다 극수동형 🍃",
    emoji: "🍃",
    description: "'에라 모르겠다, 네가 하자는 대로 다 할게' 하는 극강의 수동형이자 평화주의자예요.",
    characteristics: [
      "🍃 '에라 모르겠다'가 입버릇",
      "🤷 네가 하자는 대로 다 할게 스타일",
      "☮️ 극강의 평화주의자",
      "💚 갈등을 최대한 피하는 타입",
      "😊 편한 게 최고인 낙천적 성향",
    ],
    goodMatch: ["테토남", "살사남", "고구마남"],
    badMatch: ["에라남", "에겐남"],
    loveStyle: "당신은 '에라 모르겠다'로 모든 걸 해결하는 타입! 상대방이 하자는 대로 다 따라가는 편이라 결정 부담이 없어서 좋다는 말을 많이 들어요. 다만 너무 수동적이면 상대방이 답답해할 수 있으니, 가끔은 '나는 이게 좋아'라고 말해보세요! 🍃",
  },
};

const ALL_TYPES = ["T", "P", "E", "G", "C", "S", "H", "A"] as const;

export function calculateResult(answers: string[]): string {
  const counts: Record<string, number> = {};
  ALL_TYPES.forEach((t) => (counts[t] = 0));

  answers.forEach((answer) => {
    if (ALL_TYPES.includes(answer as any)) {
      counts[answer]++;
    }
  });

  const maxType = Object.entries(counts).reduce((a, b) =>
    a[1] > b[1] ? a : b
  )[0];

  return maxType;
}
